{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*",
  "RateLimit": {
    "IsEnabled": true,
    "EnableQuery1": true,
    "Query1Window": "00:00:15",
    "Query1Limit": 3,
    "Policies": {
      "CN=debugger.commercecache.azure-test.net": {
        "Type": "CertificateName",
        // TODO: If instead of regex, we evaluated against OperationName instead of Method/Path, then we can remove the use of regex, and rules can be dictionary based for faster lookup.
        // I don't know if OperationName is parsed early enough in the request pipeline to be used here, and parsing it again seems to be expensive too.
        "Rules": [
          {
            "Method": "GET",
            "Path": "/weatherforecast/*/resource",
            "Limit": 2,
            "Window": "00:00:10"
          },
          {
            "Method": "GET",
            "Path": "/weatherforecast",
            "Limit": 2,
            "Window": "00:00:10"
          }
        ]
      },
      "Adam": {
        "Type": "AppId",
        "Rules": [
          {
						"Method": "GET",
						"Path": "/weatherforecast",
						"Limit": 1,
						"Window": "00:00:10"
					},
					{
						"Method": "GET",
						"Path": "/weatherforecast/*/resource",
						"Limit": 2,
						"Window": "00:00:10"
					}
        ]
      },
      "TenantId1_ObjectId1": {
        "Type": "UserId",
        "Rules": [
          {
						"Method": "GET",
						"Path": "/weatherforecast",
						"Limit": 1,
						"Window": "00:00:10"
					},
					{
						"Method": "GET",
						"Path": "/weatherforecast/*/resource",
						"Limit": 2,
						"Window": "00:00:10"
					}
        ]
      }
    }
  }
}
